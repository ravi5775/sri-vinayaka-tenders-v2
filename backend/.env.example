

cd ~/v2/backend

cat > .env << 'EOF'
# Server Configuration
PORT=3001
NODE_ENV=production

# APPLICATION URLs
BASE_URL=http://13.62.58.142
FRONTEND_URL=http://13.62.58.142
APP_IP=http://13.62.58.142

# PostgreSQL Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=sri_vinayaka
DB_USER=postgres
DB_PASSWORD=@Ravi7pspk
DB_POOL_SIZE=20

# JWT Configuration
JWT_SECRET=f21980166b5de5911517c9e9ae4ee5ed2077344842e87e5e70ee5e5fc37de3b6
JWT_REFRESH_SECRET=ba8940f822ec5ef9f7044a10d9dd6d7fd44387b6566cc046972dfa29bdead36e
JWT_EXPIRES_IN=24h

# CORS Configuration
CORS_ORIGIN=http://13.62.58.142

# RATE LIMITING
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info

# MongoDB Atlas Connection (for backup/restore)
MONGO_URI=mongodb+srv://user:<db_password>@cluster.mongodb.net/test?retryWrites=true&w=majority
MONGO_DB_NAME=test

# CSRF
CSRF_SECRET=54f1708e91a083d89a46cce425a32d4e

# EMAIL CONFIGURATION (Gmail SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_AUTH_REQUIRED=true
SMTP_USERNAME=srivinayakatender@gmail.com
SMTP_PASSWORD="hndl subs qmnw gxsz"
EMAIL_FROM=srivinayakatender@gmail.com
EMAIL_FROM_NAME=Sri Vinayaka Tenders
EMAIL_REPLY_TO=srivinayakatender@gmail.com
EMAIL_ENABLED=true
EMAIL_MAX_RETRIES=3
EMAIL_RETRY_DELAY_SECONDS=5

# Default Admin Credentials
ADMIN_EMAIL=user.cad75@gmail.com
ADMIN_PASSWORD=@Ravi7pspk
EOF

cat .env
pm2 restart svt-backend
pm2 logs svt-backend --lines 10
